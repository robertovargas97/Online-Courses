const game = (() => { let e = []; const t = ["C", "D", "H", "S"], r = ["A", "J", "Q", "K"], n = []; let s = 0, c = 0, o = 0; const l = document.querySelector("#newGameBtn"), a = document.querySelector("#drawBtn"), d = document.querySelector("#stopBtn"), i = document.querySelector("#playerScore"), u = document.querySelector("#pcScore"), m = document.getElementsByClassName("cardsDiv"); a.disabled = !0, d.disabled = !0; const h = (t = 2) => { for (let e = 0; e < t; e++)n.push(e), m[e].innerHTML = ""; e = f(), y(!1), c = 0, o = 0, p(s = 0, i), p(c, u) }, f = () => { e = []; for (const r in t) for (let n = 2; n < 11; n++)e.push(`${n}${t[r]}`); for (const n of t) for (const t of r) e.push(t + n); return _.shuffle(e) }, p = (e, t) => { t.innerHTML = `- Score : ${e}` }, g = t => { const r = (() => { if (0 === e.length) throw alert("There is not cards, click new game to start."), "There is not cards"; return e.pop() })(); return ((e, t) => { const r = document.createElement("img"); r.src = `./assets/cartas/${e}.png`, r.classList.add("card"), m[t].append(r) })(r, t), (e => { let t = e.substring(0, e.length - 1); return isNaN(t) ? "A" === t ? 11 : 10 : 1 * t })(r) }, S = () => { do { c += g(o), p(c, u) } while (c < s); w() }, y = e => { a.disabled = e, d.disabled = e }, w = () => { c === s ? alert("OOHH, IT IS A DRAW") : 21 === s || c > 21 && s < 21 ? alert("You win.") : alert("You lose.") }; return d.addEventListener("click", () => { o = (o + 1) % n.length, y(!0), S() }), a.addEventListener("click", () => { s += g(o), p(s, i), s >= 21 && (s > 21 && (s = 0), o = (o + 1) % n.length, y(!0), S()) }), l.addEventListener("click", function () { h() }), { startGame: h } })();